## Vanilla Overwrite

## Anyone can have Selective for it's Default
selective = {
	trigger = {
		owner = {
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}

	default = yes

	stop_when_armies_dead = yes
	accept_surrender = yes
	abduct_pops = no

	planet_damage = 0.5
	army_damage = 1.0

	kill_pop_chance = {
		base = 0.25
	}
	min_pops_to_kill_pop = 21

	# root = fleet
	# from = planet
	ai_weight = {
		weight = 1
	}
}

## Remove country restriction
indiscriminate = {
	trigger = {
		owner = {
			OR = {
				has_policy_flag = orbital_bombardment_indiscriminate
				has_policy_flag = orbital_bombardment_armageddon
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}

	default = no

	stop_when_armies_dead = no
	accept_surrender = yes
	abduct_pops = no

	planet_damage = 1.0
	army_damage = 1.5

	kill_pop_chance = {
		base = 0.5
	}
	min_pops_to_kill_pop = 11

	# root = fleet
	# from = planet
	ai_weight = {
		weight = 5
		modifier = {
			factor = 0.01
			exists = from
			from = {
				owner = { NOT = { is_hostile = root.owner } }
				NAND = {
					controller = { is_crisis_faction = yes }
					planet_garrison_strength > 0
				}
			}
		}
	}
}

armageddon = {
	trigger = {
		owner = {
			OR = {
				has_policy_flag = orbital_bombardment_armageddon
				# is_crisis_faction = yes
				AND = {
					is_country_type = katzenartig_imperium
					NOR = {
						has_global_flag = katzenartig_stellarite
						has_global_flag = katzenartig_improbable
					}
				}
				has_menace_perk = menp_death_from_above
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}

	default = no

	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 1.5
	army_damage = 2.0

	kill_pop_chance = {
		base = 1.0
	}
	min_pops_to_kill_pop = 0

	# root = fleet
	# from = planet
	ai_weight = {
		weight = 10
		modifier = {
			factor = 1000
			owner = {
				is_country_type = katzenartig_imperium
			}
		}
	}
}

raiding = {
	trigger = {
		OR = {
			owner = { has_ascension_perk = ap_nihilistic_acquisition }
			owner = {
				OR = {
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_bugged_hive_aggressive_proliferation
					has_valid_civic = civic_bugged_machine_emancipation_proclamation
					has_valid_civic = civic_bugged_asset_appropriation
				}
			}
			owner = { has_origin = origin_slavers }
			owner = { has_origin = origin_khan_successor }
			owner = { is_country_type = debt_collectors }
			AND = {
				owner = { is_country_type = enclave_mercenary }
				controller = {
					OR = {
						has_ascension_perk = ap_nihilistic_acquisition
						has_valid_civic = civic_barbaric_despoilers
						has_valid_civic = civic_bugged_hive_aggressive_proliferation
						has_valid_civic = civic_bugged_machine_emancipation_proclamation
						has_valid_civic = civic_bugged_asset_appropriation

						has_origin = origin_slavers
						has_origin = origin_khan_successor
					}
				}
			}
		}
	}

	default = no

	stop_when_armies_dead = no
	abduct_pops = yes

	planet_damage = 0.5
	army_damage = 0.5

	kill_pop_chance = {
		base = 0.15
	}
	min_pops_to_kill_pop = 2

	# root = fleet
	# from = planet
	ai_weight = {
		weight = 8
		modifier = {
			factor = 0
			exists = from
			from = {
				OR = {
					num_pops < 2
					owner = { NOT = { is_hostile = root.owner } }
				}
			}
			NOT = {
				owner = { has_origin = origin_slavers }
			}
		}
		modifier = {
			factor = 0.01
			exists = from
			from = {
				owner = { has_claim = root.solar_system }
			}
			NOT = {
				owner = { has_origin = origin_slavers }
			}
		}
		modifier = {
			factor = 100
			owner = { has_origin = origin_slavers }
		}
	}
}

## Restrict ACOT Bombardment based on empire policy
## Fallen empire may not use them but Awakened / Ascended can.

########################

punishment = {
	trigger = {
		NOT = {
			has_global_flag = acot_exterminatus_forbidden
		}
		owner = {
			AND = {
				NOT = {
					is_country_type = fallen_empire
				}
				OR = {
					is_country_type = awakened_fallen_empire
					AND = {
						OR = {
							has_policy_flag = orbital_bombardment_armageddon
							has_menace_perk = menp_death_from_above
						}
						has_technology = tech_bombardment_dm
					}
				}
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}
	icon_frame = 3
	default = yes
	
	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 2
	army_damage = 5
	
	kill_pop_chance = {
		base = 1.5
	}
	min_pops_to_kill_pop = 0
	
	# root = fleet
	# from = planet
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0
			OR = {
				owner = { has_ethic = ethic_fanatic_xenophile }
				owner = { has_ethic = ethic_fanatic_pacifist }
				owner = { has_valid_civic = civic_machine_servitor }				
				owner = { has_valid_civic = civic_machine_assimilator }
				owner = { is_country_type = sbtg_stellarborne_empire }
				owner = { is_country_type = sbtg_stellarborne_empire_active }
			}
		}
	}
}

exterminatus = {
	trigger = {
		NOT = {
			has_global_flag = acot_exterminatus_forbidden
		}
		owner = {
			AND = {
				NOT = {
					is_country_type = fallen_empire
					is_country_type = awakened_fallen_empire
				}
				OR = {
					has_policy_flag = orbital_bombardment_armageddon
					has_menace_perk = menp_death_from_above
				}
				has_technology = tech_bombardment_ae
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}
	icon_frame = 3
	default = no
	
	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 5
	army_damage = 10
	
	kill_pop_chance = {
		base = 3
	}
	min_pops_to_kill_pop = 0
	
	# root = fleet
	# from = planet
	ai_weight = {
		weight = 100
		modifier = {
			factor = 0.01
			exists = from
			from = { 
				owner = { NOT = { is_hostile = root.owner } }
			}
		}
		modifier = {
			factor = 1000
			owner = { is_country_type = sbtg_stellarborne_empire }
		}
	}
}

final_destionation = {
	trigger = {
		owner = {
			OR = {
				is_country_type = sbtg_stellarborne_empire
				is_country_type = sbtg_stellarborne_empire_active
				AND = {
					is_country_type = katzenartig_imperium
					has_global_flag = katzenartig_stellarite
				}
				AND = {
					has_technology = tech_bombardment_se
					OR = {
						has_policy_flag = orbital_bombardment_armageddon
						is_crisis_faction = yes
						has_menace_perk = menp_death_from_above
					}
					NOT = {
						is_country_type = fallen_empire
						is_country_type = awakened_fallen_empire
					}
				}
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}
	icon_frame = 3
	default = no
	
	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 10
	army_damage = 20
	
	kill_pop_chance = {
		base = 5
	}
	min_pops_to_kill_pop = 0
	
	# root = fleet
	# from = planet
	ai_weight = {
		weight = 1000
		modifier = {
			factor = 10000
			owner = {
				is_country_type = sbtg_stellarborne_empire
				is_country_type = sbtg_stellarborne_empire_active
				is_country_type = katzenartig_imperium
			}
		}
	}
}

phanon_digitalization = {
	trigger = {
		owner = {
			OR = {
				is_country_type = acot_phanon_base	
				is_country_type = acot_phanon_retaliator
				is_country_type = aot_phanon_protecc
				AND = {
					is_country_type = katzenartig_imperium
					has_global_flag = katzenartig_improbable
				}
				AND = {
					has_technology = tech_bombardment_pe
					OR = {
						has_policy_flag = orbital_bombardment_armageddon
						has_menace_perk = menp_death_from_above
					}
					NOT = {
						is_country_type = fallen_empire
						is_country_type = awakened_fallen_empire
					}
				}
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}
	
	default = no
	
	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 10
	army_damage = 40
	
	kill_pop_chance = {
		base = 10
	}
	min_pops_to_kill_pop = 0
	
	# root = fleet
	# from = planet
	ai_weight = {
		weight = 1000
		modifier = {
			factor = 10000
			owner = {
				OR = {
					is_country_type = acot_phanon_base
					is_country_type = acot_phanon_retaliator
					is_country_type = katzenartig_imperium
				}
			}
		}
	}
}

asteroid = {
	trigger = {
		owner = {
			has_technology = tech_asteroid_strike
			has_policy_flag = orbital_bombardment_armageddon
			NOT = { is_country_type = fallen_empire }
			OR = {
				NOT = { is_country_type = default }
				has_policy_flag = orbital_bombardment_indiscriminate
				has_policy_flag = orbital_bombardment_armageddon
			}
			NOR = {
				is_country_type = ai_empire
				is_country_type = swarm
				is_country_type = extradimensional
				is_country_type = extradimensional_2
				is_country_type = extradimensional_3
			}
		}
	}

	default = no

	stop_when_armies_dead = no
	abduct_pops = no

	planet_damage = 2.0
	army_damage = 1.5

	kill_pop_chance = {
		base = 0.5
	}
	min_pops_to_kill_pop = 0

	# root = fleet
	# from = planet
	ai_weight = {
		weight = 10
	}
}
@city_cost = 500
@hab_cost = 1000
@hab_cost_dm = 500
@hab_cost_de = 500
@hab_cost_stellarite = 500
@hab_maintenance = 2

# Merged: Vanilla, Gigas, Bug; Base: Gigas;
district_rw_city = {
	base_buildtime = @giga_rw_district_buildtime
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes
	
	show_on_uncolonized = {
		exists = from
		from = {
			is_gestalt = no
		}
		uses_district_set = ring_world
		NOT = {
			has_modifier = ringworld_upgrade_timer
		}
	}

	potential = {
		exists = owner
		owner = {
			is_gestalt = no
		}
		uses_district_set = ring_world
		NOT = {
			has_modifier = ringworld_upgrade_timer
		}
	}

	conversion_ratio = 0.5
	convert_to = {
		district_rw_nexus
		district_rw_hive
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @giga_rw_cost
		}
		upkeep = {
			energy = @giga_rw_maintenance
		}
	}

	planet_modifier = {
		planet_housing_add = 25
		job_enforcer_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = civic_agrarian_idyll
			}
		}
		modifier = {
			planet_housing_add = -5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire = no
			}
		}
		modifier = {
			job_clerk_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_prosperity_public_works
			}
		}
		modifier = {
			planet_housing_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_1
			}
		}
		modifier = {
			planet_housing_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_2
				NOT = {
					has_valid_civic = civic_agrarian_idyll
				}
			}
		}
		modifier = {
			planet_housing_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_active_tradition = tr_mercantile_trickle_up_economics
			}
		}
		modifier = {
			job_clerk_add = 3
		}
	}

	### Ringworld Ecumenopolis
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = giga_archology
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire = no
			}
		}
		modifier = {
			planet_housing_add = 50
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = giga_archology
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire = no
			}
		}
		modifier = {
			job_enforcer_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = giga_archology
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire = no
			}
		}
		modifier = {
			job_clerk_add = 10
		}
	}

	# Bug Branch built in compat
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { 
				is_gestalt = no
				is_bugged_rooftop_farmers = yes 
			}
		}
		modifier = {
			job_clerk_add = -3
			job_farmer_add = 3
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { 
				is_gestalt = no
				is_bugged_rooftop_farmers = yes 
			}
		}
		text = job_farmer_effect_desc
	}
	# Bug Branch built in compat

	triggered_desc = {
		trigger = {
			planet = {
				has_deposit = d_arcane_generator
				NOT = {
					has_district = district_rw_city
				}
			}
		}
		text = arcane_generator_upkeep_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
			}
		}
		text = job_clerk_effect_desc
	}
}

# Merged: Bug, PD; Added +4 building slots;
district_arcology_housing = {
	base_buildtime = 600
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		OR = {
			uses_district_set = city_world
			uses_district_set = pdecocity
			uses_district_set = pdmilarc
			uses_district_set = pdcorpoarc
			uses_district_set = pdtechnoarch
		}
	}

	potential = {
		OR = {
			uses_district_set = city_world
			uses_district_set = pdecocity
			uses_district_set = pdmilarc
			uses_district_set = pdcorpoarc
			uses_district_set = pdtechnoarch
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_city
		district_nexus
		district_hive
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = 1000
		}
		upkeep = {
			energy = 5
		}
	}

	planet_modifier = {
		planet_housing_add = 15
		planet_max_buildings_add = 4
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_maintenance_drone_add = 9
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_prosperity_public_works }
		}
		modifier = {
			planet_housing_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_1
			}
		}
		modifier = {
			planet_housing_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_2
				NOT = { has_valid_civic = civic_agrarian_idyll }
			}
		}
		modifier = {
			planet_housing_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_technology = tech_housing_2
				has_ethic = ethic_gestalt_consciousness
			}
		}
		modifier = {
			job_maintenance_drone_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
			}
		}
		modifier = {
			job_clerk_add = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_active_tradition = tr_mercantile_trickle_up_economics }
		}
		modifier = {
			job_clerk_add = 3
		}
	}

	# Bug Branch
		triggered_planet_modifier = {
			potential = {
				exists = owner
				owner = { has_valid_civic = civic_bugged_rooftop_farmers }
			}
			modifier = {
				job_clerk_add = -3
				job_farmer_add = 3
			}
		}
	# Bug Branch

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_regular_empire = yes
			}
		}
		text = job_clerk_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		text = job_maintenance_drone_effect_desc
	}
	# Bug Branch
		triggered_desc = { 
			trigger = {
				exists = owner
				owner = { has_valid_civic = civic_bugged_rooftop_farmers }
			}
			text = job_farmer_effect_desc
		}
	# Bug Branch
}

# Merged: PD, FQ, Deassimilate;
district_industrial = {
	base_buildtime = 480
	is_capped_by_modifier = no

	prerequisites = {
		tech_basic_industry
	}

	show_on_uncolonized = {
		exists = from
		OR = {
			uses_district_industrial = yes
			uses_district_set = pdnecroplanet
			uses_district_set = pdscrapyard
		}
	}

	potential = {
		exists = owner
		OR = {
			uses_district_industrial = yes
			uses_district_set = pdnecroplanet
			uses_district_set = pdscrapyard
		}
	}

	allow = {
		NOR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
			is_planet_class = pc_pd_mega_power
			is_planet_class = pc_pd_mega_power_tidal
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_arcology_arms_industry
		district_rw_industrial
		district_corp_industrial
		district_bioforge_stomach
		district_mf_alloy
		district_techno_industrial
	}

	resources = {
		category = planet_districts_industrial
		cost = {
			minerals = @city_cost
		}
		upkeep = {
			energy = 2
		}

		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			planet_max_buildings_add = 0.34
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		modifier = {
			job_artisan_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_crafter_empire = yes }
		}
		modifier = {
			job_artificer_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_foundry_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = yes
			}
		}
		modifier = {
			job_catalytic_technician_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_alloy_drone_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_fabricator_add = 2
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
				is_catalytic_empire = yes
			}
		}
		modifier = {
			job_catalytic_drone_add = 2
		}
	}

	# Designation Job Changes
	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		modifier = {
			job_artisan_add = -1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
			}
		}
		modifier = {
			job_artificer_add = -1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_foundry_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = yes
			}
		}
		modifier = {
			job_catalytic_technician_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		modifier = {
			job_artisan_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
			}
		}
		modifier = {
			job_artificer_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_foundry_add = -1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = yes
			}
		}
		modifier = {
			job_catalytic_technician_add = -1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_machine_empire = yes
				country_uses_consumer_goods = yes
				is_catalytic_empire = no
			}
		}
		modifier = {
			job_artisan_drone_add = 1
			job_fabricator_add = -1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_machine_empire = yes
				country_uses_consumer_goods = yes
				is_catalytic_empire = yes
			}
		}
		modifier = {
			job_artisan_drone_add = 1
			job_catalytic_drone_add = -1
		}
	}

	triggered_desc = {
		trigger = {
			has_foundry_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		text = job_artisan_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_foundry_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
			}
		}
		text = job_artificer_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_foundry_designation = no
			exists = owner
			owner = {
				is_machine_empire = yes
				country_uses_consumer_goods = yes
			}
		}
		text = job_artisan_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = no
			}
		}
		text = job_foundry_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = yes
			}
		}
		text = job_catalytic_technician_effect_desc
	}
	triggered_desc = {
		trigger = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_machine_empire = yes
				is_catalytic_empire = no
			}
		}
		text = job_fabricator_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_hive_empire = yes
				is_catalytic_empire = no
			}
		}
		text = job_alloy_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_gestalt = yes
				is_catalytic_empire = yes
			}
		}
		text = job_catalytic_drone_effect_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}
}

# AOT Habs to make CGs
district_dm_hab_arms_industry = {
	base_buildtime = 240
	is_capped_by_modifier = no
	show_on_uncolonized = {
		uses_district_set = dm_habitat
	}
	potential = {
		uses_district_set = dm_habitat
	}
	planet_modifier = {
		planet_housing_add = 3
	}
	resources = {
		category = planet_districts_hab_mining
		cost = {
			minerals = @hab_cost
			sr_dark_matter = @hab_cost_dm
			acot_sr_dark_energy = @hab_cost_de
		}
		upkeep = {
			energy = @hab_maintenance
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_acot_alloydrone_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_acot_artisan_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_acot_alloyman_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			has_foundry_designation = no
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_acot_artisan_add = 1
			job_acot_alloyman_add = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		modifier = {
			job_fe_acolyte_mine_add = 3
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_acot_alloydrone_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		text = job_acot_alloyman_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		text = job_fe_acolyte_mine_desc
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 400
			OR = {
				owner = {
					has_monthly_income = {
						resource = energy
						value < 200
					}
				}
				planet = {
					has_district = district_dm_hab_energy
				}
			}
		}
	}
	ai_resource_production = {
		minerals = 1
		trigger = {
			always = yes
		}
	}
}

district_ae_hab_arms_industry = {
	base_buildtime = 240
	is_capped_by_modifier = no
	show_on_uncolonized = {
		uses_district_set = ae_habitat
	}
	potential = {
		uses_district_set = ae_habitat
	}
	planet_modifier = {
		planet_housing_add = 3
	}
	resources = {
		category = planet_districts_hab_mining
		cost = {
			minerals = @hab_cost
			sr_dark_matter = @hab_cost_dm
			acot_sr_dark_energy = @hab_cost_de
		}
		upkeep = {
			energy = @hab_maintenance
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_ae_alloydrone_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_acot_artisan_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_ae_alloyman_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			has_foundry_designation = no
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_acot_artisan_add = 1
			job_ae_alloyman_add = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		modifier = {
			job_fe_acolyte_mine_add = 3
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_acot_alloydrone_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		text = job_acot_alloyman_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		text = job_fe_acolyte_mine_desc
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 400
			OR = {
				owner = {
					has_monthly_income = {
						resource = energy
						value < 200
					}
				}
				planet = {
					has_district = district_ae_hab_energy
				}
			}
		}
	}
	ai_resource_production = {
		minerals = 1
		trigger = {
			always = yes
		}
	}
}

district_hab_phanon_arms_industry = {
	icon = district_macripp_arms_industry
	base_buildtime = 240
	is_capped_by_modifier = no
	show_on_uncolonized = {
		uses_district_set = phanon_habitat
	}
	potential = {
		uses_district_set = phanon_habitat
	}
	planet_modifier = {
		planet_housing_add = 3
	}
	resources = {
		category = planet_districts_hab_mining
		cost = {
			minerals = @hab_cost
			aot_sr_runic_power = @hab_cost_stellarite
		}
		upkeep = {
			energy = @hab_maintenance
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_phanon_alloydrone_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_phanon_artisan_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_phanon_alloyman_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			has_foundry_designation = no
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_phanon_artisan_add = 1
			job_phanon_alloyman_add = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		modifier = {
			job_fe_acolyte_mine_add = 3
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_acot_alloydrone_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		text = job_acot_alloyman_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		text = job_fe_acolyte_mine_desc
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 400
			OR = {
				owner = {
					has_monthly_income = {
						resource = energy
						value < 200
					}
				}
				planet = {
					has_district = district_dm_hab_energy
				}
			}
		}
	}
	ai_resource_production = {
		minerals = 1
		trigger = {
			always = yes
		}
	}
}

district_hab_stellarite_arms_industry = {
	base_buildtime = 240
	is_capped_by_modifier = no
	show_on_uncolonized = {
		uses_district_set = sigma_habitat
	}
	potential = {
		uses_district_set = sigma_habitat
	}
	planet_modifier = {
		planet_housing_add = 3
	}
	resources = {
		category = planet_districts_hab_mining
		cost = {
			minerals = @hab_cost
			acot_sr_stellarite = @hab_cost_stellarite
		}
		upkeep = {
			energy = @hab_maintenance
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		modifier = {
			job_stellarite_alloydrone_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_stellarite_artisan_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_foundry_designation = yes
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_stellarite_alloyman_add = 3
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			has_foundry_designation = no
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		modifier = {
			job_stellarite_artisan_add = 1
			job_stellarite_alloyman_add = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		modifier = {
			job_fe_acolyte_mine_add = 3
		}
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_acot_alloydrone_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = no
				is_fallen_empire_spiritualist = no
			}
		}
		text = job_acot_alloyman_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
			}
		}
		text = job_fe_acolyte_mine_desc
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 400
			OR = {
				owner = {
					has_monthly_income = {
						resource = energy
						value < 200
					}
				}
				planet = {
					has_district = district_dm_hab_energy
				}
			}
		}
	}
	ai_resource_production = {
		minerals = 1
		trigger = {
			always = yes
		}
	}
}